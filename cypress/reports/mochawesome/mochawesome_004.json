{
  "stats": {
    "suites": 1,
    "tests": 20,
    "passes": 19,
    "pending": 0,
    "failures": 1,
    "start": "2025-04-03T11:31:10.060Z",
    "end": "2025-04-03T11:36:54.256Z",
    "duration": 344196,
    "testsRegistered": 20,
    "passPercent": 95,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "93f9dcb3-31da-48e2-b51c-14292d859d04",
      "title": "",
      "fullFile": "cypress\\e2e\\1-myproject\\meizhe2012\\main-process-manjian.cy.js",
      "file": "cypress\\e2e\\1-myproject\\meizhe2012\\main-process-manjian.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "b57cae51-9d3f-4592-a521-7660351e4d19",
          "title": "满减/满包邮活动主流程",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "点击跳转创建满减/满包邮活动",
              "fullTitle": "满减/满包邮活动主流程 点击跳转创建满减/满包邮活动",
              "timedOut": null,
              "duration": 7564,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "//跳转美折首页\ncy.visit('https://meizhe.meideng.net/home').wait(2000);\n//如果有全局弹窗，则关闭全局弹窗\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\n//hover顶部导航栏，点击全店折扣/减价，验证跳转页面的url是否正确\ncy.get('ul>li').eq(0).trigger('mouseover').wait(1000);\ncy.contains('满减/满就包邮').click();\ncy.url().should('contain', '/huodong/mjs-create');",
              "err": {},
              "uuid": "23462f1e-5673-4d6a-aa7f-7aa56ad26805",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功创建满减/满包邮活动",
              "fullTitle": "满减/满包邮活动主流程 成功创建满减/满包邮活动",
              "timedOut": null,
              "duration": 45132,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/mjs-create').wait(2000);\n//如果有全局弹窗，则关闭全局弹窗\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\n//切换活动标签名为“优惠促销”，再点击自定义设置为“新春好礼”\ncy.get('div').contains('满减促销').click();\ncy.contains('优惠促销').click();\ncy.get('button').contains('点这里自定义').click();\ncy.get('input[value=\"满减促销\"]').clear().type('新春好礼');\n//活动备注末尾添加一个1\ncy.get('div').contains('活动备注').parent().within(() => {\n  cy.get('input').type('1');\n});\ncy.get('button').contains('下一步 选择活动商品').click().wait(1000);\n//在页面上搜索带有“测试”两个字的商品，并选择其中第一个\ncy.get('input[placeholder=\"关键字、商品ID、商品链接、商家编码\"]').click().type('测试');\ncy.contains('搜索商品').click().wait(1000);\ncy.get('button').contains('选择商品').eq(0).click().wait(1000);\n//切换到仓库中tab，选择全选本页商品，验证按钮文案变化\ncy.contains('仓库中').click().wait(1000);\ncy.get('button').contains('全选本页').eq(0).click().wait(1000);\ncy.contains('取消全选').should('be.visible');\n//点击下一步进入设置折扣页面\ncy.contains('下一步').click().wait(2000);\n//输入满500元减40元，勾选上不封顶、包邮以及送测试礼物\ncy.contains('条件1').parent().parent().next().children().eq(0).within(() => {\n  cy.get('input').eq(1).clear().type('500');\n});\ncy.contains('内容1').parent().parent().next().children().then($neirong1 => {\n  cy.get($neirong1).eq(0).within(() => {\n    cy.get('input').eq(1).clear().type('40').wait(500);\n  });\n  cy.get('i.icon-duoxuan').eq(0).click().wait(500);\n  cy.get('i.icon-duoxuan').eq(1).click().wait(500);\n  cy.get('i.icon-duoxuan').eq(1).click().wait(500);\n  cy.get('a').contains('设置包邮地区').click();\n  cy.get('p').contains('设置包邮地区').should('exist');\n  cy.get('p').contains('设置包邮地区').parent().next().next().within(() => {\n    cy.contains('确定').click();\n  });\n  cy.contains('送礼物').next().as('giftsrk');\n  cy.get('@giftsrk').within(() => {\n    cy.get('input').click().clear().type('测试礼物');\n  });\n});\n//选择活动橙横幅\ncy.contains('活动橙').click();\ncy.contains('不显示横幅').parent().parent().parent().parent().next().as('hengfuyulan');\ncy.get('@hengfuyulan').within(() => {\n  cy.contains('500').should('be.visible');\n  cy.contains('40').should('be.visible');\n  cy.contains('包邮').should('be.visible');\n  cy.contains('上不封顶').should('be.visible');\n  cy.contains('测试礼物').should('be.visible');\n});\ncy.contains('添加横幅到手机详情页').click();\n// 移除 target 属性并点击链接\ncy.get('a').contains('详细说明').parent().invoke('attr', 'href', 'https://www.yuque.com/meizhe/iyh31w/ix3i1iml5225vxf1').invoke('removeAttr', 'target').click();\n// 验证新页面内容\ncy.origin('https://www.yuque.com/', () => {\n  cy.contains('旺铺插件投放下线通知').should('be.visible');\n});\n//跳转回原页面\ncy.origin('https://www.yuque.com/', () => {\n  cy.go('back');\n});\n// // 移除 target 属性并点击链接\n// cy.get('a').contains('点击了解详情').parent().invoke('attr','href','https://www.yuque.com/meizhe/iyh31w/ilp0cc?')\n// .invoke('removeAttr', 'target').click();\n// // 验证新页面内容\n// cy.origin('https://www.yuque.com/',()=>{\n//     cy.contains('如何将满减横幅同步到手机详情').should('be.visible');\n// });\n// //跳转回原页面\n// cy.origin('https://www.yuque.com/',()=>{\n//     cy.go('back');\n// });\ncy.contains('添加多级优惠').click();\ncy.contains('优惠 2').should('be.visible');\ncy.contains('添加多级优惠').click();\ncy.contains('优惠 3').should('be.visible');\ncy.get(\"i.icon-close2\").click();\ncy.contains('优惠3').should('not.exist');\n//输入满500元减40元，勾选上不封顶、包邮以及送测试礼物\ncy.contains('条件2').parent().parent().next().children().eq(1).within(() => {\n  cy.get('input').eq(1).clear().type('3');\n});\ncy.contains('内容2').parent().parent().next().children().then($neirong2 => {\n  cy.get($neirong2).eq(1).within(() => {\n    cy.get('input').eq(1).clear().type('8').wait(500);\n  });\n});\ncy.get('@hengfuyulan').within(() => {\n  cy.contains('3').should('be.visible');\n  cy.contains('8').should('be.visible');\n});\ncy.get('textarea[placeholder=\"补充您想让买家了解的其他活动信息\"]').click().type('这是测试活动').wait(1000);\ncy.contains('完成并提交').click();\ncy.contains('活动创建成功').should('be.visible');\ncy.contains('查看活动详情').should('be.visible');\ncy.contains('返回活动列表').should('be.visible');\ncy.contains('查看活动详情').click();\ncy.url().should('contain', '/huodong/mjs-detail-v2');\ncy.go('back').wait(1000);\ncy.contains('返回活动列表').click();\ncy.url().should('contain', '/huodong/list-v2');",
              "err": {},
              "uuid": "3a0fcbb7-3e1a-42dd-9248-a333be69b73e",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "添加活动页推广跳转正确",
              "fullTitle": "满减/满包邮活动主流程 添加活动页推广跳转正确",
              "timedOut": null,
              "duration": 7431,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击活动页推广的添加按钮\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('span').contains('活动页推广').next().click().wait(500);\n});\n//断言弹窗正确打开\ncy.contains('发布活动页').should('be.visible');",
              "err": {},
              "uuid": "9bb4dec2-4bf2-4afe-8c42-31fb617b028a",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "添加关联水印跳转正确",
              "fullTitle": "满减/满包邮活动主流程 添加关联水印跳转正确",
              "timedOut": null,
              "duration": 7876,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击关联水印的添加按钮\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('span').contains('关联水印').next().click();\n});\n//断言跳转页面的url正确\ncy.url().should('contain', 'shuiyin-new/create');",
              "err": {},
              "uuid": "5392a681-882d-4a17-84be-0b2e7d7a70cd",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "添加短信营销跳转正确",
              "fullTitle": "满减/满包邮活动主流程 添加短信营销跳转正确",
              "timedOut": null,
              "duration": 6991,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击短信营销的添加按钮\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('span').contains('短信营销').next().click();\n});\n//断言跳转页面的url正确\ncy.url().should('contain', 'sms/create');",
              "err": {},
              "uuid": "76ed4819-042b-4af2-b441-45a5d9064505",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功修改活动信息",
              "fullTitle": "满减/满包邮活动主流程 成功修改活动信息",
              "timedOut": null,
              "duration": 20411,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击修改信息按钮\ncy.contains('修改信息').eq(0).click().wait(2000);\n//修改huodong标签为其他\ncy.get('#update-settings>div').eq(0).within(() => {\n  cy.contains('自定义').click().wait(500);\n});\ncy.contains('满就送礼').click().wait(500);\ncy.get('#update-settings>div').eq(0).within(() => {\n  cy.get('a').contains('点这里自定义').click();\n});\ncy.get('input[value=\"新春好礼\"]').clear().type('春节好礼');\n//修改开始时间为当前时间晚一天\ncy.get('#update-settings>div').eq(1).within(() => {\n  cy.get('input').click().wait(500);\n});\ncy.get('div').contains('今天').parent().parent().then($today => {\n  cy.log($today[0].outerHTML);\n  if ($today[0].nextElementSibling !== null) {\n    //元素存在时的操作\n    cy.log('elements exist');\n    cy.get($today).next().click();\n  } else {\n    //元素不存在时的操作\n    cy.get($today).parent().next().as('nextday');\n    cy.get('@nextday').children().eq(0).click().wait(1000);\n  }\n});\ncy.get('button').contains('今天').next().click().wait(1000);\n//修改结束时间为比开始时间晚两天\ncy.get('#update-settings>div').eq(2).within(() => {\n  cy.get('input').click().wait(500);\n});\ncy.get('button').contains('今天').click().wait(1000);\ncy.contains('活动结束时间不能早于或等于开始时间').should('be.visible');\ncy.get('div').contains('今天').parent().parent().then($tomorrow => {\n  if ($tomorrow[0].nextElementSibling.nextElementSibling !== null) {\n    //元素存在时的操作\n    cy.log('elements exist');\n    cy.get($tomorrow).next().next().click();\n  } else {\n    //元素不存在时的操作\n    cy.get($tomorrow).parent().next().as('nextday');\n    cy.get('@nextday').children().eq(0).click().wait(1000);\n  }\n});\ncy.get('button').contains('今天').next().click().wait(1000);\n//点击确定按钮，完成修改\ncy.get('button.mz-btn.btn-success').trigger('click').wait(500);\ncy.contains('修改成功').should('be.visible');",
              "err": {},
              "uuid": "cae7e45a-5b7b-4df3-a9f5-f7a8c20c9652",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功添加商品",
              "fullTitle": "满减/满包邮活动主流程 成功添加商品",
              "timedOut": null,
              "duration": 18926,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//打开添加商品页面并断言跳转页面url正确\ncy.contains('添加商品').eq(0).click();\ncy.url().should('contain', 'huodong/mjs-add-item');\n//断言第一个商品已参加活动，并添加第二个商品\ncy.get('button').contains('选择商品').parent().parent().prev().within(() => {\n  cy.get('span').contains('已参加').should('be.visible');\n});\ncy.get('button').contains('选择商品').eq(0).click().wait(1000);\ncy.contains('仓库中').click().wait(500);\ncy.get('i.icon-xiayiye').eq(0).parent().click().wait(1000);\ncy.get('button').contains('全选本页').eq(0).click().wait(1000);\ncy.contains('取消全选').should('be.visible');\ncy.contains('加入此活动').click();\ncy.contains('成功加入活动').should('be.visible');\ncy.contains('查看活动详情').should('be.visible');\ncy.contains('返回活动列表').should('be.visible');\ncy.contains('添加更多商品').should('be.visible');\ncy.contains('查看活动详情').click();\ncy.url().should('contain', '/huodong/mjs-detail-v2');\ncy.go('back').wait(1000);\ncy.contains('返回活动列表').click();\ncy.url().should('contain', '/huodong/list-v2');\ncy.go('back').wait(1000);\ncy.contains('添加更多商品').click();\ncy.url().should('contain', '/huodong/mjs-add-item');",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected to find content: '取消全选' but never did.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected to find content: '取消全选' but never did.\n    at Context.eval (webpack:///./cypress/e2e/1-myproject/meizhe2012/main-process-manjian.cy.js:286:28)",
                "diff": null
              },
              "uuid": "b37f0545-224b-46bf-818b-c356a2e5d778",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功修改优惠",
              "fullTitle": "满减/满包邮活动主流程 成功修改优惠",
              "timedOut": null,
              "duration": 61727,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.contains('修改优惠').eq(0).click();\ncy.contains('条件1').parent().parent().next().children().eq(2).within(() => {\n  cy.get('input').eq(1).clear().type('600');\n  cy.get('input').eq(2).clear().type('10');\n});\ncy.contains('内容1').parent().parent().next().within(() => {\n  cy.contains('上不封顶').should('not.exist');\n});\ncy.contains('内容1').parent().parent().next().children().then($neirong1 => {\n  cy.get($neirong1).eq(0).within(() => {\n    cy.get('input').eq(1).clear().type('44').wait(500);\n  });\n});\ncy.contains('送礼物').next().as('giftsrk');\ncy.get('@giftsrk').within(() => {\n  cy.get('input').click().clear().type('测试礼物修改');\n});\ncy.contains('节日红').click();\ncy.contains('不显示横幅').parent().parent().parent().parent().next().as('hengfuyulan');\ncy.get('@hengfuyulan').within(() => {\n  cy.contains('600').should('be.visible');\n  cy.contains('元且满').should('be.visible');\n  cy.contains('10').should('be.visible');\n  cy.contains('测试礼物修改').should('be.visible');\n});\ncy.contains('完成修改并提交').click();\ncy.get('div.mzc-column-container').contains('该功能为尊享版可用，您当前为旗舰版，请切换活动类型').should('be.visible');\ncy.get('div.mzc-column-container').contains('该功能为尊享版可用，您当前为旗舰版，请切换活动类型').parent().parent().as('sjtc');\ncy.get('@sjtc').within(() => {\n  cy.contains('选择尊享版').click();\n});\ncy.contains('已成功切换').should('be.visible');\ncy.contains('完成修改并提交').click().wait(5000);\nfunction handleDialogs($body) {\n  const xiugaizhong1 = $body.find('[id^=\"dialog\"][id$=\"-msg\"]');\n  if (xiugaizhong1.length > 0) {\n    cy.get('a').contains('好的').click().wait(500);\n    cy.contains('完成修改并提交').click().wait(5000);\n    // 递归调用处理下一个对话框\n    cy.get('body').then($newBody => {\n      handleDialogs($newBody);\n    });\n  } else {\n    cy.get('p').contains('活动还在创建或修改中，请稍后再进行操作').should('not.exist').then(() => {\n      cy.contains('活动修改成功').should('be.visible');\n      cy.contains('查看活动详情').should('be.visible');\n      cy.contains('返回活动列表').should('be.visible');\n      cy.contains('查看活动详情').click().wait(1000);\n      cy.url().should('contain', '/huodong/mjsv1-detail-v2');\n      cy.go('back').wait(1000);\n      cy.contains('返回活动列表').click();\n      cy.url().should('contain', '/huodong/list-v2');\n    });\n  }\n}\ncy.get('body').then($body => {\n  handleDialogs($body);\n});",
              "err": {},
              "uuid": "8f2b9fd6-d572-4a44-8741-8d4ce6ff1367",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功删除商品",
              "fullTitle": "满减/满包邮活动主流程 成功删除商品",
              "timedOut": null,
              "duration": 29221,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.contains('删除商品').eq(0).click();\ncy.contains('确认删除').click();\ncy.contains('至少选择一个商品').should('be.visible');\ncy.get('div').contains('至少选择一个商品').next().within(() => {\n  cy.get('button').click();\n});\ncy.contains('选择商品').eq(0).click().wait(1000);\ncy.contains('已选择').should('be.visible');\ncy.get('i.icon-xiayiye').eq(0).parent().click();\ncy.contains('全选本页').click().wait(500);\ncy.contains('已选择').should('be.visible');\ncy.intercept('POST', 'https://meizhe.meideng.net/common/mj_v2/item/remove').as('removeitemRequest');\ncy.contains('确认删除').click().wait(10000);\nfunction handleDialogs($body) {\n  const xiugaizhong1 = $body.find('[id^=\"dialog\"][id$=\"-msg\"]');\n  if (xiugaizhong1.length > 0) {\n    cy.get('a').contains('好的').click().wait(500);\n    cy.contains('确认删除').click().wait(5000);\n    // 递归调用处理下一个对话框\n    cy.get('body').then($newBody => {\n      handleDialogs($newBody);\n    });\n  } else {\n    cy.get('p').contains('活动还在创建或修改中，请稍后再进行操作').should('not.exist').then(() => {\n      cy.wait('@removeitemRequest').then(interception => {\n        // 验证请求是否成功\n        expect(interception.response.statusCode).to.eq(200);\n      });\n      cy.url().should('contain', '/huodong/mjsv1-detail-v2');\n    });\n  }\n}\ncy.get('body').then($body => {\n  handleDialogs($body);\n});",
              "err": {},
              "uuid": "e4f97374-2b69-4c6e-9baf-1a58d1d32f80",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功复制活动",
              "fullTitle": "满减/满包邮活动主流程 成功复制活动",
              "timedOut": null,
              "duration": 8805,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.contains('更多').eq(0).trigger('mouseover');\ncy.contains('复制活动').click();\ncy.url().should('contain', '/huodong/mjsv1-copy-act');",
              "err": {},
              "uuid": "1c505c10-3fa0-458a-ac02-e2138497fd42",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功暂停活动",
              "fullTitle": "满减/满包邮活动主流程 成功暂停活动",
              "timedOut": null,
              "duration": 8003,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击暂停活动按钮后，等待2秒\ncy.contains('更多').eq(0).trigger('mouseover');\ncy.contains('暂停活动').click();\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('a').contains('修改信息').should('not.exist');\n  cy.get('a').contains('修改优惠').should('not.exist');\n  cy.get('a').contains('添加商品').should('not.exist');\n  cy.get('a').contains('暂停活动').should('not.exist');\n  cy.get('a').contains('重启活动').should('be.visible');\n  cy.contains('关联水印').should('not.exist');\n  cy.contains('更多').should('not.exist');\n});\ncy.get('span.activity-status').eq(0).within(() => {\n  cy.contains('已暂停').should('be.visible');\n});",
              "err": {},
              "uuid": "e0ed3a8f-eede-486a-bfe8-41fbf5505011",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功重启活动",
              "fullTitle": "满减/满包邮活动主流程 成功重启活动",
              "timedOut": null,
              "duration": 9327,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击重启活动按钮后，等待2秒\ncy.contains('重启活动').eq(0).click().wait(2000);\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('a').contains('修改信息').should('be.visible');\n  cy.get('a').contains('修改优惠').should('be.visible');\n  cy.get('a').contains('删除商品').should('be.visible');\n  cy.get('a').contains('添加商品').should('be.visible');\n  cy.get('a').contains('重启活动').should('not.exist');\n  cy.contains('关联水印').should('be.visible');\n  cy.contains('更多').should('be.visible');\n});\ncy.get('span.activity-status').eq(0).within(() => {\n  cy.contains('未开始').should('be.visible');\n});",
              "err": {},
              "uuid": "9d0504c5-da1c-473d-858b-99433237c6b3",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功跳转自定义导出页面",
              "fullTitle": "满减/满包邮活动主流程 成功跳转自定义导出页面",
              "timedOut": null,
              "duration": 9128,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.contains('更多').eq(0).trigger('mouseover');\ncy.contains('自定义导出').click();\ncy.url().should('contain', '/excel_export/commodity_information');\ncy.contains('春节好礼 - 满减').should('be.visible');",
              "err": {},
              "uuid": "417984ba-3d84-4487-8e05-ef91f1b2bec4",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功导入文件选择商品",
              "fullTitle": "满减/满包邮活动主流程 成功导入文件选择商品",
              "timedOut": null,
              "duration": 11025,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.contains('更多').eq(0).trigger('mouseover');\ncy.contains('导入 Excel').click();\ncy.contains('导入 Excel 文件').click();\ncy.contains('满减-尊享版').should('be.visible');\ncy.get('input[type=\"file\"]').should('exist');\ncy.intercept('POST', 'https://meizhe.meideng.net/common/import/excel?act_type=mjsv1&is_multi_custom=false').as('importmanjian');\ncy.get('input[type=\"file\"]').selectFile('cypress/fixtures/manjianbaoyou.xls', {\n  force: true\n});\ncy.url().should('contain', '/huodong/mjsv1-add-item');\ncy.wait('@importmanjian').then(interception => {\n  // 验证请求是否成功\n  expect(interception.response.statusCode).to.eq(200);\n  expect(interception.response.body).to.have.property('success', 1);\n  expect(interception.response.body.pairs.length).to.equal(6);\n});\ncy.contains('加入此活动').click();\ncy.contains('成功加入活动').should('be.visible');",
              "err": {},
              "uuid": "92b5d073-fb89-459e-9b58-3c8d150fad66",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功导出活动表格",
              "fullTitle": "满减/满包邮活动主流程 成功导出活动表格",
              "timedOut": null,
              "duration": 10855,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.contains('更多').eq(0).trigger('mouseover');\ncy.intercept('POST', 'https://meizhe.meideng.net/common/get_export_token').as('exportmanjian');\ncy.contains('导出 Excel').click();\ncy.wait(3000);\ncy.wait('@exportmanjian').then(interception => {\n  // 验证请求是否成功\n  expect(interception.response.statusCode).to.eq(200);\n  expect(interception.response.body).to.have.property('success', 1);\n});",
              "err": {},
              "uuid": "56274aee-7c61-4cc0-a006-b7a1f5a03f59",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功结束活动",
              "fullTitle": "满减/满包邮活动主流程 成功结束活动",
              "timedOut": null,
              "duration": 27839,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.get('i.icon-shanchu').eq(0).parent().within(() => {\n  cy.get('i.icon-shanchu').click();\n});\ncy.get('button').contains('不结束').click();\ncy.get('i.icon-shanchu').eq(0).parent().within(() => {\n  cy.get('i.icon-shanchu').click();\n});\n//获取结束活动的接口请求\ncy.intercept('POST', 'https://meizhe.meideng.net/common/mj_v2/stop').as('endActivityRequest');\ncy.get('button').contains('不结束').next().click();\ncy.wait('@endActivityRequest').then(interception => {\n  // 验证请求是否成功\n  expect(interception.response.statusCode).to.eq(200);\n  expect(interception.response.body).to.have.property('success', 1);\n});\n//结束活动需要一段时间，给出20s的等待时间\ncy.wait(20000);",
              "err": {},
              "uuid": "0017838f-a0d6-479f-9c9a-08393f97a802",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功重开活动",
              "fullTitle": "满减/满包邮活动主流程 成功重开活动",
              "timedOut": null,
              "duration": 30348,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-stopped-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\ncy.get('i.icon-chongkai').eq(0).click();\ncy.contains('点此完整重开').click();\ncy.url().should('contain', '/huodong/mjsv1-restart-act');\ncy.go('back');\ncy.get('i.icon-chongkai').eq(0).click();\ncy.contains('确认重开').click();\ncy.contains('重开完成').should('be.visible');\ncy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.get('i.icon-shanchu').eq(0).parent().within(() => {\n  cy.get('i.icon-shanchu').click();\n});\ncy.get('button').contains('不结束').next().click().wait(10000);\nfunction handleDialogs($body) {\n  const xiugaizhong2 = $body.find('[id^=\"dialog\"][id$=\"-msg\"]');\n  if (xiugaizhong2.length > 0) {\n    cy.get('a').contains('好的').click().wait(500);\n    cy.get('i.icon-shanchu').eq(0).parent().within(() => {\n      cy.get('i.icon-shanchu').click();\n    });\n    cy.get('button').contains('不结束').next().click().wait(5000);\n    // 递归调用处理下一个对话框\n    cy.get('body').then($newBody => {\n      handleDialogs($newBody);\n    });\n  }\n}\ncy.get('body').then($body => {\n  handleDialogs($body);\n});",
              "err": {},
              "uuid": "7c911e91-add5-4faf-9a4f-058b5fb8a883",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功在已结束活动列表导出Excel",
              "fullTitle": "满减/满包邮活动主流程 成功在已结束活动列表导出Excel",
              "timedOut": null,
              "duration": 7279,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-stopped-v2').wait(2000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\ncy.intercept('POST', 'https://meizhe.meideng.net/common/get_export_token').as('exportmanjian');\ncy.contains('导出 Excel').eq(0).click();\ncy.wait(3000);\ncy.wait('@exportmanjian').then(interception => {\n  // 验证请求是否成功\n  expect(interception.response.statusCode).to.eq(200);\n  expect(interception.response.body).to.have.property('success', 1);\n});",
              "err": {},
              "uuid": "3c72f4db-f30f-48b8-a76a-8febf4788758",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功跳转清理活动横幅页",
              "fullTitle": "满减/满包邮活动主流程 成功跳转清理活动横幅页",
              "timedOut": null,
              "duration": 4734,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-stopped-v2').wait(2000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\ncy.contains(' 清理横幅').eq(0).click();\ncy.url().should('contain', \"/toolbox/clean-poster\");",
              "err": {},
              "uuid": "687568c6-d567-4017-9603-eab51dbc0e57",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功彻底删除折扣活动",
              "fullTitle": "满减/满包邮活动主流程 成功彻底删除折扣活动",
              "timedOut": null,
              "duration": 3916,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-stopped-v2').wait(2000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\ncy.get('i.icon-yongjiushanchu').eq(0).click();\ncy.contains('不删除').click();\ncy.get('i.icon-yongjiushanchu').eq(0).click();\ncy.intercept('post', 'https://meizhe.meideng.net/common/mj_v2/hide').as('yongjiushanchu');\ncy.contains('不删除').next().click();\ncy.wait('@yongjiushanchu').then(interception => {\n  expect(interception.response.statusCode).to.eq(200);\n  expect(interception.response.body).to.have.property('success', 1);\n});",
              "err": {},
              "uuid": "4bd18639-16ec-4450-8181-2bcedf0d5460",
              "parentUUID": "b57cae51-9d3f-4592-a521-7660351e4d19",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "23462f1e-5673-4d6a-aa7f-7aa56ad26805",
            "3a0fcbb7-3e1a-42dd-9248-a333be69b73e",
            "9bb4dec2-4bf2-4afe-8c42-31fb617b028a",
            "5392a681-882d-4a17-84be-0b2e7d7a70cd",
            "76ed4819-042b-4af2-b441-45a5d9064505",
            "cae7e45a-5b7b-4df3-a9f5-f7a8c20c9652",
            "8f2b9fd6-d572-4a44-8741-8d4ce6ff1367",
            "e4f97374-2b69-4c6e-9baf-1a58d1d32f80",
            "1c505c10-3fa0-458a-ac02-e2138497fd42",
            "e0ed3a8f-eede-486a-bfe8-41fbf5505011",
            "9d0504c5-da1c-473d-858b-99433237c6b3",
            "417984ba-3d84-4487-8e05-ef91f1b2bec4",
            "92b5d073-fb89-459e-9b58-3c8d150fad66",
            "56274aee-7c61-4cc0-a006-b7a1f5a03f59",
            "0017838f-a0d6-479f-9c9a-08393f97a802",
            "7c911e91-add5-4faf-9a4f-058b5fb8a883",
            "3c72f4db-f30f-48b8-a76a-8febf4788758",
            "687568c6-d567-4017-9603-eab51dbc0e57",
            "4bd18639-16ec-4450-8181-2bcedf0d5460"
          ],
          "failures": [
            "b37f0545-224b-46bf-818b-c356a2e5d778"
          ],
          "pending": [],
          "skipped": [],
          "duration": 336538,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.0.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/reports/mochawesome",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.2.0"
    }
  }
}