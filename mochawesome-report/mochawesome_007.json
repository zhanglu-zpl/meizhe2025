{
  "stats": {
    "suites": 1,
    "tests": 1,
    "passes": 0,
    "pending": 0,
    "failures": 1,
    "start": "2025-06-12T06:08:50.741Z",
    "end": "2025-06-12T06:08:51.185Z",
    "duration": 444,
    "testsRegistered": 10,
    "passPercent": 0,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 9,
    "hasSkipped": true
  },
  "results": [
    {
      "uuid": "7370c7eb-dd52-4854-9505-164abddbd44e",
      "title": "",
      "fullFile": "cypress\\e2e\\1-myproject\\meizhe2012\\main-process-quandianzhekoujianjia.cy.js",
      "file": "cypress\\e2e\\1-myproject\\meizhe2012\\main-process-quandianzhekoujianjia.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "7bad70da-7b21-4648-8562-62650afef996",
          "title": "全店折扣/减价主流程",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "点击跳转创建全店折扣/减价",
              "fullTitle": "全店折扣/减价主流程 点击跳转创建全店折扣/减价",
              "timedOut": null,
              "duration": 191,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "//跳转美折首页\ncy.visit('https://meizhe.meideng.net/home').wait(2000);\n//如果有全局弹窗，则关闭全局弹窗\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\n//hover顶部导航栏，点击全店折扣/减价，验证跳转页面的url是否正确\ncy.get('ul>li').eq(0).trigger('mouseover').wait(1000);\ncy.contains('全店折扣/减价').click();\ncy.url().should('contain', '/huodong/fzhekou-create');",
              "err": {
                "message": "CypressError: `cy.setCookie()` must be passed two string arguments for `name` and `value`.\n\nhttps://on.cypress.io/setcookie\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `全店折扣/减价主流程`",
                "estack": "CypressError: `cy.setCookie()` must be passed two string arguments for `name` and `value`.\n\nhttps://on.cypress.io/setcookie\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `全店折扣/减价主流程`\n    at Context.setCookie (https://meizhe.meideng.net/__cypress/runner/cypress_runner.js:119909:70)\n    at wrapped (https://meizhe.meideng.net/__cypress/runner/cypress_runner.js:138084:43)\nFrom Your Spec Code:\n    at Context.eval (webpack://meizhe2025/./cypress/e2e/1-myproject/meizhe2012/main-process-quandianzhekoujianjia.cy.js:4:11)",
                "diff": null
              },
              "uuid": "507d8bf0-3c3b-4a36-a700-f06d2a3cf412",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "成功创建全店折扣/减价活动",
              "fullTitle": "全店折扣/减价主流程 成功创建全店折扣/减价活动",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/fzhekou-create').wait(2000);\n//如果有全局弹窗，则关闭全局弹窗\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\n//切换价格标签为‘热卖促销’\ncy.get('input[value=\"优惠促销\"]').click({\n  force: true\n}).wait(1000);\ncy.contains('热卖促销').click().wait(1000);\n//验证页面关键元素存在\ncy.contains('开始时间').should('be.visible');\ncy.contains('结束时间').should('be.visible');\ncy.contains('全店优惠').should('be.visible');\ncy.contains('结束提醒').should('be.visible');\n//切换至减价模式，输入10，再切换回来，输入9\ncy.get('i.icon-danxuan').eq(0).click().wait(1000);\ncy.get('span').contains('减').parent().next().within(() => {\n  cy.get('input').click().clear().type('10').wait(1000);\n});\ncy.contains('全店宝贝同时减价 10 元（包括多SKU宝贝的所有SKU） 减价后小于0.01元或低于最低折扣的将不生效优惠').should('be.visible');\ncy.get('i.icon-danxuan').eq(0).click().wait(1000);\ncy.get('span').contains('打').parent().next().within(() => {\n  cy.get('input').click().clear().type('9');\n});\ncy.contains('全店宝贝同时打 9 折').should('be.visible');\n//切换至首件优惠--限购2件--再切换回不限购\ncy.get('i.icon-danxuan').eq(1).click().wait(1000);\ncy.get('i.icon-danxuan').eq(2).click().wait(1000);\ncy.get('span').filter(\":contains('限购')\").eq(2).next().within(() => {\n  cy.get('input').click().clear().type('2');\n});\ncy.get('i.icon-danxuan').eq(1).click().wait(1000);\n//活动备注末尾添加一个1\ncy.get('div').contains('活动备注').parent().within(() => {\n  cy.get('input').type('1');\n});\n//创建全店折扣活动，并且断言创建成功以及第四步页面按钮跳转正确\ncy.contains('直接创建全店折扣/减价活动').click().wait(2000);\ncy.contains('活动创建完成').should('be.visible');\ncy.contains('查看活动详情').should('be.visible');\ncy.contains('返回活动列表').should('be.visible');\ncy.contains('查看活动详情').click();\ncy.url().should('contain', '/huodong/fzhekou-detail-v2');\ncy.go('back').wait(1000);\ncy.contains('返回活动列表').click();\ncy.url().should('contain', '/huodong/list-v2');",
              "err": {},
              "uuid": "9c2df2b9-431c-4718-9426-a852d9a39183",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "添加主图水印跳转正确",
              "fullTitle": "全店折扣/减价主流程 添加主图水印跳转正确",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击主图水印右侧添加按钮\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('span').contains('主图水印').next().click();\n});\n//断言跳转页面的url正确\ncy.url().should('contain', 'shuiyin-new/create');",
              "err": {},
              "uuid": "065adfaa-238b-4c6c-b2b8-5aaf4e414859",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "添加短信营销跳转正确",
              "fullTitle": "全店折扣/减价主流程 添加短信营销跳转正确",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击短信营销右侧添加按钮\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('span').contains('短信营销').next().click();\n});\n//断言跳转页面的url正确\ncy.url().should('contain', 'sms/create');",
              "err": {},
              "uuid": "b906639d-f664-4b64-acde-067c1a1a08a9",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "成功修改活动信息以及优惠形式",
              "fullTitle": "全店折扣/减价主流程 成功修改活动信息以及优惠形式",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击修改信息按钮\ncy.contains('修改信息').eq(0).click().wait(2000);\n//修改价格标签为其他\ncy.get('#update-settings>div').eq(0).within(() => {\n  cy.get('input').click().wait(500);\n});\ncy.contains('优惠促销').click().wait(1000);\n//修改开始时间为当前时间晚一天\ncy.get('#update-settings>div').eq(1).within(() => {\n  cy.get('input').click().wait(500);\n});\ncy.get('div').contains('今天').parent().parent().then($today => {\n  cy.log($today[0].outerHTML);\n  if ($today[0].nextElementSibling !== null) {\n    //元素存在时的操作\n    cy.log('elements exist');\n    cy.get($today).next().click();\n  } else {\n    //元素不存在时的操作\n    cy.get($today).parent().next().as('nextday');\n    cy.get('@nextday').children().eq(0).click().wait(1000);\n  }\n});\ncy.get('button').contains('今天').next().click().wait(1000);\n//修改结束时间为比开始时间晚两天\ncy.get('#update-settings>div').eq(2).within(() => {\n  cy.get('input').click().wait(500);\n});\ncy.get('button').contains('今天').click().wait(1000);\ncy.contains('活动结束时间不能早于或等于开始时间').should('be.visible');\ncy.get('div').contains('今天').parent().parent().then($tomorrow => {\n  if ($tomorrow[0].nextElementSibling.nextElementSibling !== null) {\n    //元素存在时的操作\n    cy.log('elements exist');\n    cy.get($tomorrow).next().next().click();\n  } else {\n    //元素不存在时的操作\n    cy.get($tomorrow).parent().next().as('nextday');\n    cy.get('@nextday').children().eq(0).click().wait(1000);\n  }\n});\ncy.get('button').contains('今天').next().click().wait(1000);\ncy.get('#update-settings>div').eq(3).within(() => {\n  cy.get('span').contains('减').as('jjsrk');\n  cy.get('@jjsrk').next().click().clear().type('10');\n});\n//点击确定按钮，完成修改\ncy.get('button.mz-btn.btn-success').trigger('click').wait(500);\ncy.contains('修改成功').should('be.visible');",
              "err": {},
              "uuid": "d05a8f88-327c-4ba1-ba51-de4f408bbe66",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "成功暂停活动",
              "fullTitle": "全店折扣/减价主流程 成功暂停活动",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击暂停活动按钮后，等待2秒\ncy.contains('暂停活动').eq(0).click().wait(2000);\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('a').contains('修改信息').should('not.exist');\n  cy.get('a').contains('暂停活动').should('not.exist');\n  cy.get('a').contains('重启活动').should('be.visible');\n  cy.contains('主图水印').should('not.exist');\n});\ncy.get('span.activity-status').eq(0).within(() => {\n  cy.contains('已暂停').should('be.visible');\n});",
              "err": {},
              "uuid": "7e938b07-287b-4a06-aa7b-a54ebd4a7933",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "成功重启活动",
              "fullTitle": "全店折扣/减价主流程 成功重启活动",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\n//点击重启活动按钮后，等待2秒\ncy.contains('重启活动').eq(0).click().wait(2000);\ncy.get('div.activity-body').eq(0).within(() => {\n  cy.get('a').contains('修改信息').should('be.visible');\n  cy.get('a').contains('暂停活动').should('be.visible');\n  cy.get('a').contains('重启活动').should('not.exist');\n  cy.contains('主图水印').should('be.visible');\n});\ncy.get('span.activity-status').eq(0).within(() => {\n  cy.contains('未开始').should('be.visible');\n});",
              "err": {},
              "uuid": "ad049086-32a3-49d3-b761-0655e6dd0e7f",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "成功结束活动",
              "fullTitle": "全店折扣/减价主流程 成功结束活动",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.get('i.icon-shanchu').eq(0).parent().within(() => {\n  cy.get('i.icon-shanchu').click();\n});\ncy.get('button').contains('不结束').click();\ncy.get('i.icon-shanchu').eq(0).parent().within(() => {\n  cy.get('i.icon-shanchu').click();\n});\n//获取结束活动的接口请求\ncy.intercept('POST', 'https://meizhe.meideng.net/common/fzk/stop').as('endActivityRequest');\ncy.get('button').contains('不结束').next().click();\ncy.wait('@endActivityRequest').then(interception => {\n  // 验证请求是否成功\n  expect(interception.response.statusCode).to.eq(200);\n  expect(interception.response.body).to.have.property('success', 1);\n});",
              "err": {},
              "uuid": "942481bb-4aaf-492c-b32d-53cadb3e4614",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "成功重开活动",
              "fullTitle": "全店折扣/减价主流程 成功重开活动",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-stopped-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\ncy.get('i.icon-chongkai').eq(0).click();\ncy.contains('点此完整重开').click();\ncy.url().should('contain', '/huodong/fzhekou-restart-act');\ncy.go('back');\ncy.get('i.icon-chongkai').eq(0).click();\ncy.contains('确认重开').click();\ncy.contains('重开完成').should('be.visible');\ncy.visit('https://meizhe.meideng.net/huodong/list-v2').wait(5000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  const global_tip1_close = $body.find('button.ant-tour-close:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n  if (global_tip1_close.length !== 0) {\n    cy.wrap(global_tip1_close).click();\n  }\n});\ncy.get('i.icon-shanchu').eq(0).parent().within(() => {\n  cy.get('i.icon-shanchu').click();\n});\ncy.get('button').contains('不结束').next().click();",
              "err": {},
              "uuid": "090db04b-2557-4217-bfe3-583d130b7505",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            },
            {
              "title": "成功彻底删除折扣活动",
              "fullTitle": "全店折扣/减价主流程 成功彻底删除折扣活动",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit('https://meizhe.meideng.net/huodong/list-stopped-v2').wait(2000);\ncy.get('body').then($body => {\n  const global_popwin_close = $body.find('button.mz-modal-adv-close-button:visible');\n  if (global_popwin_close.length !== 0) {\n    cy.wrap(global_popwin_close).click(); // 使用 cy.wrap 包装 jQuery 对象\n  }\n});\ncy.get('i.icon-yongjiushanchu').eq(0).click();\ncy.contains('不删除').click();\ncy.get('i.icon-yongjiushanchu').eq(0).click();\ncy.intercept('post', 'https://meizhe.meideng.net/common/fzk/hide').as('yongjiushanchu');\ncy.contains('不删除').next().click();\ncy.wait('@yongjiushanchu').then(interception => {\n  expect(interception.response.statusCode).to.eq(200);\n  expect(interception.response.body).to.have.property('success', 1);\n});",
              "err": {},
              "uuid": "b29a51a9-c7b3-463e-aeb4-d9df8cadfda9",
              "parentUUID": "7bad70da-7b21-4648-8562-62650afef996",
              "isHook": false,
              "skipped": true
            }
          ],
          "suites": [],
          "passes": [],
          "failures": [
            "507d8bf0-3c3b-4a36-a700-f06d2a3cf412"
          ],
          "pending": [],
          "skipped": [
            "9c2df2b9-431c-4718-9426-a852d9a39183",
            "065adfaa-238b-4c6c-b2b8-5aaf4e414859",
            "b906639d-f664-4b64-acde-067c1a1a08a9",
            "d05a8f88-327c-4ba1-ba51-de4f408bbe66",
            "7e938b07-287b-4a06-aa7b-a54ebd4a7933",
            "ad049086-32a3-49d3-b761-0655e6dd0e7f",
            "942481bb-4aaf-492c-b32d-53cadb3e4614",
            "090db04b-2557-4217-bfe3-583d130b7505",
            "b29a51a9-c7b3-463e-aeb4-d9df8cadfda9"
          ],
          "duration": 191,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.0.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": {
        "output": "mochawesome-report",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.2.0"
    }
  }
}